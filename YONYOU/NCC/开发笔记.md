# 参数配置

## NCC上传附件提示：附件大小超过限制，不能上传

1. 用系统管理员登录，打开系统参数设置节点，修改参数——单据附件最大值，修改该参数的参数值，取值范围是0-30

2. 不够用的话修改参数值范围（valuelist根据实际情况修改）

```sql
update pub_sysinittemp set valuelist='0-100' where initcode='AttachLmt';
```

## 模板不存在或已被删除

```sql
SELECT * FROM PUB_PAGE_TEMPLET WHERE CODE ='18203008A_ReportZtransSubject'
UPDATE PUB_TEMPLATE_ASSIGNMENT SET PK_PAGE_TEMPLET = '1001ZZ1LCP00002V54UE' WHERE PAGE_CODE = '18203008A_ReportZtransSubject'
SELECT * FROM PUB_TEMPLATE_ASSIGNMENT where PAGE_CODE = '18203008A_ReportZtransSubject' order BY TS ASC
```



# 功能开发





		UserService userService = ServiceLocator.find(UserService.class);
		UserVO user = userService.getUser(receiverID);
				//根据用户userid(pk)信息查找对应用户信息
			UserVO user = userService.getUser(userid);



		String userSql = "SELECT cuserid, user_name FROM sm_user WHERE dr = 0";
		Map<String, String> userMap = (Map<String, String>) basedao.executeQuery(userSql,
				new KeyValueMapProcessor<String, String>());
				

# 前后台数据库操作的用法

## 后端

### 查询语句返回Map<String, String>

```java
String SQL = "SELECT code, name FROM table";
Map<String, String> tableMap = (Map<String, String>) new BaseDAO().executeQuery(SQL,
				new KeyValueMapProcessor<String, String>());
```

### 查询语句返回List&lt;tableVO>

```java
String SQL = "SELECT * FROM table";
List<tableVO> tableList = (List<tablerVO>) new BaseDAO().executeQuery(SQL, new BeanListProcessor(tableVO.class));
```

### 查询语句返回List<Map<String, String>>

```java
String SQL = "SELECT * FROM table";
List<Map<String, String>> tableList = (List<Map<String, String>>) new BaseDAO().executeQuery(SQL,
				new MapListProcessor());
```

### 查询语句返回一行一列

```java
String SQL = "SELECT code FROM table WHERE pk_table = 'pk'";
Object result = bd.executeQuery(sql, new ColumnProcessor());
```



# UFDouble基本用法

```java
package nc.test;

import java.math.BigDecimal;
import nc.vo.pub.lang.UFDouble;
import nc.vo.pubapp.pattern.data.ValueUtils;

public class TestUFDouble {

    @SuppressWarnings("unused")
    public static void main(String[] args){
        UFDouble UFDOUBLE_30 = ValueUtils.getUFDouble(30);
        UFDouble UFDOUBLE_40 = ValueUtils.getUFDouble(40);
        UFDouble UFDOUBLE_50 = ValueUtils.getUFDouble(50);
        UFDouble UFDOUBLE_100 = ValueUtils.getUFDouble(100);
        UFDouble UFDOUBLE_500 = ValueUtils.getUFDouble(500);UFDouble uf_add;
        UFDouble uf_sub;
        UFDouble uf_mul;
        UFDouble uf_div;
        UFDouble uf_sum;

        /**
    	 * 基本运算法则
      	 */
        //UFDouble + UFDouble及UFDouble + double
        uf_add = UFDOUBLE_30.add(UFDOUBLE_40);	/*70.00000000*/
        uf_add = uf_add.add(20);	/*90.00000000*/
        //UFDouble - UFDouble及UFDouble - double
        uf_sub = uf_add.sub(UFDOUBLE_50);	/*40.00000000*/
        uf_sub = uf_sub.sub(10);	/*30.00000000*/
        //UFDouble * UFDouble及UFDouble * double
        uf_mul = uf_sub.multiply(UFDOUBLE_100);	/*3000.00000000*/
        uf_mul = uf_mul.multiply(1);			/*3000.00000000*/
        //UFDouble / UFDouble及UFDouble / double
        uf_div = uf_mul.div(UFDOUBLE_500);		/*6.00000000*/
        uf_div = uf_div.div(6);		/*1.00000000*/

        /**
    	 * 数组求和
      	 */
        double[] double_array = new double[]{1,2,3,4,5};	/*1.0, 2.0, 3.0, 4.0, 5.0*/
        uf_sum = UFDouble.sum(double_array);	/*15.00000000*/

        /**
    	 * 数值比较
      	 */
        boolean flag = (uf_sum.compareTo( UFDOUBLE_30.div(2)) == 0) ? true : false;
        if (!flag) return;

        /**
    	 * 类型转换及精度控制
    	 * UFDouble默认精度为8位
      	 */
        UFDouble uf_value = ValueUtils.getUFDouble(1234.56789);	//1234.56789000

        int byteValue = uf_value.byteValue();	//-46
        int intValue = uf_value.intValue();		//1234
        double doubleValue = uf_value.doubleValue();	//1234.456789
        float floatValue = uf_value.floatValue();		//1234.456789
        Double DouValue = uf_value.getDouble();	//1234.456789
        Double douValue = uf_value.toDouble();	//1234.456789
        //求余数(1234.56789000 / 30)
        UFDouble uf_mod = uf_value.mod(UFDOUBLE_30);	//4.56789000
        //精度控制
        UFDouble scaleValue1and1 = uf_value.setScale(1, 1);	//1234.5
        UFDouble scaleValue1and2 = uf_value.setScale(1, 2);	//1234.6
        UFDouble scaleValue1and3 = uf_value.setScale(1, 3);	//1234.5
        UFDouble scaleValue1and4 = uf_value.setScale(1, 4);	//1234.6
        UFDouble scaleValue1and5 = uf_value.setScale(1, 5);	//1234.6
        UFDouble scaleValue2and1 = uf_value.setScale(2, 1);	//1234.56
        UFDouble scaleValue3and1 = uf_value.setScale(3, 1);	//1234.567
        BigDecimal bjgValue = uf_value.toBigDecimal();		//1234.56789000
        String stringValue = uf_value.toString();	//1234.56789000
    }
}
```
